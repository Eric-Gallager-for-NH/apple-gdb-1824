<HTML>
<HEAD>
<!-- Created by texi2html 1.57 from libgdb.texinfo on August, 23  1999 -->

<TITLE>Libgdb - Structured Output</TITLE>
</HEAD>
<BODY >
 [<A HREF="libgdb_toc.html">Contents</A>] &#160; [<A HREF="libgdb_12.html">Back</A>] &#160; [<A HREF="libgdb_12.html">Prev</A>] &#160; [<A HREF="libgdb_9.html">Up</A>] &#160; [<A HREF="libgdb_9.html">Next</A>] &#160; [<A>Forward</A>] &#160;<BR><HR><BR>


<H2><A NAME="SEC13">Structured Output, The <CODE>Explain</CODE> Command</A></H2>

<P>
(This section may be subject to considerable revision.)


<P>
When GDB prints a the value of an expression, the printed representation
contains information that can be usefully fed back into future commands
and expressions.  For example, 



<PRE>
(gdb) print foo
$16 = {v = 0x38ae0, v_length = 40}
</PRE>

<P>
On the basis of this output, a user knows, for example, that
<CODE>$16.v</CODE> refers to a pointer valued <CODE>0x38ae0</CODE>


<P>
A new output command helps to make information like this available to
the application.


<P>
<DL>
<DT><U>Debugger Command:</U> <B>explain</B> <I>expression</I>
<DD><A NAME="IDX41"></A>
<DT><U>Debugger Command:</U> <B>explain</B> <I>/format expression</I>
<DD><A NAME="IDX42"></A>
Print the value of <VAR>expression</VAR> in the manner of the <CODE>print</CODE>
command, but embed that output in a list syntax containing information
about the structure of the output.
</DL>


<P>
As an example, <CODE>explain argv</CODE> might produce this output:



<PRE>
(exp-attribute
   ((expression "$19")
    (type "char **")
    (address "48560")
    (deref-expression "*$19"))
   "$19 = 0x3800\n")
</PRE>

<P>
The syntax of output from <CODE>explain</CODE> is:



<PRE>
&#60;explanation&#62; :=    &#60;quoted-string&#62;
                  | (exp-concat &#60;explanation&#62; &#60;explanation&#62;*)
                  | (exp-attribute &#60;property-list&#62; &#60;explanation&#62;)

&#60;property-list&#62; := ( &#60;property-pair&#62;* )

&#60;property-pair&#62; := ( &#60;property-name&#62; &#60;quoted-string&#62; )
</PRE>

<P>
The string-concatenation of all of the <CODE>&#60;quoted-string&#62;</CODE> (except
those in property lists) yields the output generated by the equivalent
<CODE>print</CODE> command.  Quoted strings may contain quotes and backslashes
if they are escaped by backslash.  "\n" in a quoted string stands for
newline; unescaped newlines do not occur within the strings output by
<CODE>explain</CODE>.


<P>
Property names are made up of alphabetic characters, dashes, and
underscores.


<P>
The set of properties is open-ended.  As GDB acquires support for new
source languages and other new capabilities, new property types may be
added to the output of this command.  Future commands may offer
applications some selectivity concerning which properties are reported.


<P>
The initial set of properties defined includes: 



<UL>
<LI><CODE>expression</CODE>

This is an expression, such as <CODE>$42</CODE> or <CODE>$42.x</CODE>.  The
expression can be used to refer to the value printed in the attributed
part of the string.

<LI><CODE>type</CODE>

This is a user-readable name for the type of the attributed value.

<LI><CODE>address</CODE>

If the value is stored in a target register, this is a register number.
If the value is stored in a GDB convenience variable, this is an integer
that is unique among all the convenience variables.  Otherwise, this is
the address in the target where the value is stored.

<LI><CODE>deref-expression</CODE>

If the attributed value is a pointer type, this is an expression that
refers to the dereferenced value.
</UL>

<P>
Here is a larger example, using the same object passed to <CODE>print</CODE>
in an earlier example of this section.



<PRE>
(gdb) explain foo
(exp-attribute
  ( (expression "$16")
    (type "struct bytecode_vector")
    (address 14336) )
  (exp-concat
    "$16 = {"
    (exp-attribute
      ( (expression "$16.v")
        (type "char *")
        (address 14336)
        (deref-expression "*$16.v") )
      "v = 0x38ae0")
    (exp-attribute
      ( (expression "$16.v_length")
        (type "int")
        (address 14340) )
      ", v_length = 40")
     "}\n"))
</PRE>

<P>
It is undefined how libgdb will indent these lines of output or 
where newlines will be included.


<P></P><HR>
 [<A HREF="libgdb_toc.html">Contents</A>] &#160; [<A HREF="libgdb_12.html">Back</A>] &#160; [<A HREF="libgdb_12.html">Prev</A>] &#160; [<A HREF="libgdb_9.html">Up</A>] &#160; [<A HREF="libgdb_9.html">Next</A>] &#160; [<A>Forward</A>] &#160;

</BODY>
</HTML>
